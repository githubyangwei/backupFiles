<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta content="target-densitydpi=device-dpi,width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" id="viewport" name="viewport">
	<title>Document</title>
	<link rel="stylesheet" href="style.css">
	<style type="text/css">
		html,body{height: 100%;overflow:hidden; background: #9e9e9e}
	</style>
</head>
<body class='relative'>

			<div class="upload_wrap left absolute">
			<!--结束  -->
				<p class="star_name">EXO</p>
				<img src="img/bac_exo.jpg" alt="" class="photo">
				<!-- 相框 -->
				<div class="xiangce_footer relative">
						<div class="complete absolute">完成</div>
				</div>
				<!--添加标签 -->
				<div class="add absolute">点击此处可<span style='color:orange'>添加<strong>3</strong>标签</span></div>
			</div>
			<!-- 弹层 -->
			<div class="write absolute">
				<div class="write_wrap overflow">	
					<input type="text" placeholder='请输入20字符以内' class='content left' id='con '>
					<button id='comfirm' class='comfirm left'>确定</button>
				</div>
			</div>
</body>
<script src='zepto.min.js' type="text/javascript"></script>
<script type="text/javascript">
	var oWrite=$('.write');	
	var oAdd=$('.add');
	var oWrite_wrap=$('.write_wrap');
	var oComfirm=$('#comfirm');
	var oContent=$('#con');
	var upload_wrap=$('.upload_wrap');
	var strong=$('strong');
	var count=0;
	oAdd.on('tap',function()
	{
		// 只能添加两次标签
		if(count<=2)
		{
			oWrite.addClass('write_down');
		}
		
	})
	oWrite.on('tap',function()
	{
		oWrite.removeClass('write_down');
	})
	oWrite_wrap.on('tap',function(e)
	{
		e.stopPropagation();
	})
	oComfirm.on('tap',function()
	{
		if($('input').val())
		{
			var oTemp=$('<div class="tags absolute"></div>');
			oTemp.html($('input').val());
			oTemp.appendTo(upload_wrap);
			oWrite.removeClass('write_down');
			tag(count,oTemp);
			$('input').val('');
			if(count==2)
			{
				oAdd.css('display', 'none');
			}
			count++;
			strong.html(3-count);
		}
		
	})
	// 标签定位
	function tag(count,obj)
	{
		var arr=[[upload_wrap.width()*0.5,upload_wrap.height()*0.3],[upload_wrap.width()*0.2,upload_wrap.height()*0.2]
	,[upload_wrap.width()*0.1,upload_wrap.height()*0.5]];
			var posX=arr[count][0];
			var posY=arr[count][1];
			obj.css({
				left: posX+'px',
				top: posY+'px'
			});
	}
	// tag();
</script>
</html>